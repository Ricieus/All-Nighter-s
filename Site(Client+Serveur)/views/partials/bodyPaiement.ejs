<!--Ce page sera activer quand l'utilisateur choisi une voiture et dÃ©cide d'effectuer le paiement-->


<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
    }

    .content {
        padding-top: 15vh;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    #checkout {
        width: 50%;
    }

    .error-message {
        color: red;
    }
</style>
<body>
    <div class="content">
    <!-- Display a payment form -->
        <div id="checkout">
            <!-- Checkout will insert the payment form here -->
        </div>
    </div>
    <script>
        // This is your test publishable API key.
    const stripe = Stripe('pk_test_51OvpKQLJ3MC705wbHHJXK7MqOHkz1AL0UZnFdDaGo1OHl4OcXIwipzFMPrrObDMcS8ea2cBTbZbIIe4yqcv2UxmK00In6lg9Co');
    
    
    initialize();
    
    // Create a Checkout Session
    async function initialize() {
        const fetchClientSecret = async () => {
            const response = await fetch("/create-checkout-session", {
            method: "POST",
            });
            const { clientSecret } = await response.json();
            console.log(clientSecret);
            return clientSecret;
        };
        
        const checkout = await stripe.initEmbeddedCheckout({
            fetchClientSecret,
        });
        
        // Mount Checkout
        checkout.mount('#checkout');
    }
    </script>
</body>