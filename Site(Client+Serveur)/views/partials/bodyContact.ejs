<style>
    .sectionHaut {
        height: 60vh;
        background-size: cover;
        background-image: url("../images/imageContact2.avif");
        vertical-align: middle;
        align-items: center;
        align-content: center;
    }

    .content {
        padding-top: 15vh;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .containerContact {
        margin: 5%;
    }

    /*Pour rendre le champ rouge si pas entré correctement*/
    .error-message {
            color: red;
            font-size: 12px;
            margin-top: 5px;
            display: none; /* Les messages d'erreur sont cachés par défaut */
        }
        .error-border {
    border: 2px solid red;
}
</style>
<script src="../../node_modules/bootstrap-select/js/i18n/defaults-fr_FR.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css">
<link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.10/css/bootstrap-select.min.css">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.10/js/bootstrap-select.min.js"></script>
</script>


<div class="sectionHaut">
</div>
<div class="display-6 d-flex justify-content-center mb-5">
    Des questions? Veuillez remplir ce formulaire afin que nous puissons vous aider!
</div>
<div class="containerContact">
    <h1 class="display-5 d-flex justify-content-center mb-5">Nous Contacter</h1>
    <form id="contactForm" class="form-vertical" action="/contact/submit_contact" method="post">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="prenom">Prénom</label>
                    <input type="text" class="form-control" id="prenom" name="prenom" placeholder="Prénom">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="nomFamille">Nom de Famille</label>
                    <input type="text" class="form-control" id="nomFamille" name="nomFamille"
                        placeholder="Nom de Famille">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="courriel">Courriel</label>
                    <input type="email" class="form-control" id="courriel" name="courriel" placeholder="Courriel">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="telephone">Numéro de téléphone</label>
                    <input type="tel" class="form-control" id="telephone" name="telephone"
                        placeholder="Numéro de téléphone">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="m-2">
                    <div class="form-group">
                        <label for="daterendezvous">Date de rendez-vous</label>
                        <input type="date" class="form-control" id="daterendezvous" name="daterendezvous">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="m-2">
                    <label>Raison de contact:</label>
                    <select class="selectpicker form-control" multiple data-max-options="1" id="raison" name="raison"
                        title="Veuillez choisir la raison de contact">
                        <option value="Je veux demander une question">Je veux demander une question</option>
                        <option value="Je veux réserver un essai routier">Je veux réserver un essai routier</option>
                        <option value="Je veux me plaindre">Je veux me plaindre</option>
                        <option value="Je veux laisser un commentaire">Je veux laisser un commentaire</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Souhaitez-vous qu’un concessionnaire Rubious vous contacte pour discuter de votre prochain achat de
                véhicule?</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="contact" id="radioOui" value="oui">
                <label class="form-check-label" for="ouiRadio">Oui</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="contact" id="radioNon" value="non">
                <label class="form-check-label" for="nonRadio">Non</label>
            </div>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="checkbox1" value="politique">
                <label class="form-check-label" for="checkbox1">J'ai lu et accepté la politique de
                    confidentialité.</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="checkbox2" value="informations">
                <label class="form-check-label" for="checkbox2">Je confirme que les informations que j'ai saisies sont
                    correctes.</label>
            </div>
        </div>
        <input type="submit" class="btn btn-primary" value="Envoyer" />
    </form>
</div>
<script>
    // JavaScript pour la validation côté client
    document.getElementById('contactForm').addEventListener('submit', function (event) {
        const prenom = document.getElementById('prenom');
        const nomFamille = document.getElementById('nomFamille');
        const courriel = document.getElementById('courriel');
        const telephone = document.getElementById('telephone');
        const daterendezvous = document.getElementById('daterendezvous');
        const raison = document.getElementById('raison');
        const radioOui = document.getElementById('radioOui');
        const radioNon = document.getElementById('radioNon');
        const checkbox1 = document.getElementById('checkbox1');
        const checkbox2 = document.getElementById('checkbox2');

        // Réinitialiser les messages d'erreur et les bordures
        document.querySelectorAll('.error-message').forEach(function (element) {
            element.style.display = 'none';
        });
        document.querySelectorAll('.form-control').forEach(function (element) {
            element.classList.remove('error-border');
        });

        // Vérifier la validation
        let isValid = true;

        if (!prenom.value) {
            document.getElementById('prenomError').innerText = 'Prénom est requis';
            document.getElementById('prenomError').style.display = 'block';
            prenom.classList.add('error-border');
            isValid = false;
        }

        if (!nomFamille.value) {
            document.getElementById('nomFamilleError').innerText = 'Nom de Famille est requis';
            document.getElementById('nomFamilleError').style.display = 'block';
            nomFamille.classList.add('error-border');
            isValid = false;
        }

        if (!courriel.value || !validateEmail(courriel.value)) {
            document.getElementById('courrielError').innerText = 'Courriel invalide';
            document.getElementById('courrielError').style.display = 'block';
            courriel.classList.add('error-border');
            isValid = false;
        }

        if (!telephone.value) {
            document.getElementById('telephoneError').innerText = 'Numéro de téléphone est requis';
            document.getElementById('telephoneError').style.display = 'block';
            telephone.classList.add('error-border');
            isValid = false;
        }

        if (!daterendezvous.value) {
            document.getElementById('daterendezvousError').innerText = 'Date de rendez-vous est requise';
            document.getElementById('daterendezvousError').style.display = 'block';
            daterendezvous.classList.add('error-border');
            isValid = false;
        }

        if (!raison.value) {
            document.getElementById('raisonError').innerText = 'Raison de contact est requise';
            document.getElementById('raisonError').style.display = 'block';
            raison.classList.add('error-border');
            isValid = false;
        }

        if (!radioOui.checked && !radioNon.checked) {
            document.getElementById('contactError').innerText = 'Veuillez choisir une option';
            document.getElementById('contactError').style.display = 'block';
            isValid = false;
        }

        if (!checkbox1.checked) {
            document.getElementById('checkbox1Error').innerText = 'Vous devez accepter la politique de confidentialité';
            document.getElementById('checkbox1Error').style.display = 'block';
            isValid = false;
        }

        if (!checkbox2.checked) {
            document.getElementById('checkbox2Error').innerText = 'Vous devez confirmer que les informations sont correctes';
            document.getElementById('checkbox2Error').style.display = 'block';
            isValid = false;
        }

        if (!isValid) {
            event.preventDefault(); // Empêcher la soumission du formulaire si la validation échoue
        }
    });

    // Fonction pour valider un courriel
    function validateEmail(email) {
        const re = /\S+@\S+\.\S+/;
        return re.test(email);
    }
</script>